!function(r){var n;if("undefined"!=typeof global&&null!==global&&"undefined"!=typeof module&&null!==module&&"undefined"!=typeof exports&&null!==exports){n={};try{n=require("lodash").runInContext()}catch(r){r}module.exports=n,global.caro=n}else n="undefined"!=typeof _&&null!==_?_:{},r.caro=n}(this),function(){var r=caro;r.cleanArr=function(r){return r.splice(0,r.length),r},r.pushNoDuplicate=function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];r.indexOf(t)>-1||r.push(t)}return r},r.pushNoEmptyVal=function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];caro.isEmptyVal(t)||r.push(t)}return r},r.pullEmptyVal=function(r){for(var n=[],t=0;t<r.length&&t>=0;){var e=r[t];caro.isEmptyVal(e)?(n.push(e),r.splice(t,1)):t++}return n},r.pullUnBasicVal=function(r){for(var n=[],t=0;t<r.length&&t>=0;){var e=r[t];caro.isBasicVal(e)?t++:(n.push(e),r.splice(t,1))}return n},r.randomPick=function(r,n){var t=caro.randomInt(r.length-1);return n?r.splice(t,1)[0]:r[t]},r.sumOfArr=function(r,n){var t=0;for(var e in r){var a=r[e];"number"==typeof a?t+=a:n&&(t+=Number(a))}return t}}(),function(){var r=caro;r.executeIfFn=function(r){for(var n=[],t=1;t<arguments.length;t++){var e=arguments[t];n.push(e)}if("function"==typeof r)return r.apply(r,n)},r.formatMoney=function(r,n,t){for(var e=[],a=1;a<arguments.length;a++){var o=arguments[a];"object"==typeof o&&(t=o),"string"==typeof o&&(n=o)}t=t||{};var u=Math.abs(caro.toInt(t.float)),i="string"==typeof t.decimal?t.decimal:".",f="separated"==typeof t.decimal?t.separated:",",l="string"==typeof t.prefix?t.prefix:"",s=!0===t.forceFloat,c=r<0?"-":"";switch(n){case"sInt":u=0,l="$";break;case"int":u=0}r=caro.toNum(r);var p=(r=caro.toStr(r)).split("."),h=p[0],v=p[1]?p[1].slice(0,u):"";if(s)for(var g=0;g<=u-v.length;g++)v+="0";var y=h.length>3?h.length%3:0;return e.push(l),e.push(c+(y?h.substr(0,y)+f:"")),e.push(h.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+f)),e.push(v?i+v:""),e.join("")},r.getFnName=function(r){if("function"!=typeof r)return null;var n=r.toString();return n=(n=n.substr("function ".length)).substr(0,n.indexOf("("))},r.getFnBody=function(r){if("function"!=typeof r)return null;var n=r.toString();return n.slice(n.indexOf("{")+1,n.lastIndexOf("}"))},r.getStackList=function(n,t){var e=[],a=(new Error).stack,o=caro.splitByWrap(a).slice(2),u=0;n=n||0,u=(t=t||null)?n+t-1:o.length-1;for(var i=0;i<o.length;i++){var f=o[i];if(!(i<n||i>u)){var l={},s=/^\s*at\s*/i;f=f.replace(s,"");var c=(s=/(.*)\s+\((.*):(\d*):(\d*)\)/gi).exec(f)||/()(.*):(\d*):(\d*)/gi.exec(f);c&&5===c.length&&(l.stack=c[0],l.method=c[1],l.path=c[2],l.line=c[3],l.position=c[4],l.file=r.getFileName(l.path),e.push(l))}}return e},r.setInterval=function(r,n,t){var e,a=0;return t=t?parseInt(t,10):0,e=setInterval(function(){t&&a===t?clearInterval(e):!1!==r(++a)||t||clearInterval(e)},n)},r.random=function(r,n){var t="",e=[];r=parseInt(r)?parseInt(r):1;var a=!1!==(n=n||{}).lower,o=!1!==n.upper,u=!1!==n.num,i=n.exclude||[];i="string"==typeof i?i.split(","):i,a&&e.push("abcdefghijklmnopqrstuvwxyz"),o&&e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),u&&e.push("0123456789"),e=e.join("");for(var f=0;f<i.length;f++){var l=i[f];l=l.trim(),e=caro.replaceAll(e,l,"")}for(var s=0;s<r;)t+=e.charAt(Math.floor(Math.random()*e.length)),s++;return t},r.randomInt=function(r,n){r=r?parseInt(r,10):0,(n=n?parseInt(n,10):0)>r&&(n=0);var t=Math.random()*(r-n+1);return Math.floor(t+n)},r.randomNum=function(r,n){return r=r?parseInt(r,10):0,(n=n?parseInt(n,10):0)>r&&(n=0),Math.random()*(r-n)+n},r.serializeUrl=function(r,n,t){var e=0,a=["?"];for(var o in n){var u=n[o];if(caro.isEmptyVal(u)){if(!t)continue;u=""}e>0&&a.push("&"),a.push(o),a.push("="),a.push(u),e++}return r+a.join("")}}(),caro.loop=function(r,n,t,e){var a;for(n=n?parseInt(n,10):0,t=t?parseInt(t,10):0,e=e?parseInt(e,10):1,n>t&&(e=-Math.abs(e)),a=n;(n<t?a<=t:a>=t)&&!1!==r(a);a+=e);},function(){var r=caro;r.assignByKeys=function(r,n,t,e){e=void 0===e||e;for(var a=0;a<t.length;a++){var o=t[a];!n.hasOwnProperty(o)||!e&&r.hasOwnProperty(o)||(r[o]=n[o])}return r},r.catching=function(r){for(var n=0;n<arguments.length;n++){var t=arguments[n];if(0!==n)for(var e in t){var a=t[e];r.hasOwnProperty(e)&&(r[e]=a)}}return r},r.classify=function(r){var n=[],t=[],e=[],a=[],o=[],u=[];for(var i=0 in r){var f=r[i];"boolean"==typeof f?t.push(f):"string"==typeof f?n.push(f):"number"==typeof f?a.push(f):Array.isArray(f)?e.push(f):"function"==typeof f?u.push(f):"object"==typeof f&&o.push(f)}return{bool:t,str:n,num:a,arr:e,obj:o,fn:u}},r.differentKeys=function(r,n,t){var e,a,o=Object.keys(r),u=Object.keys(n);t?(e=u,a=o):(e=o,a=u);for(var i=[],f=0;f<e.length;f++){var l=e[f];a.indexOf(l)<0&&i.push(l)}return i},r.hasEqualKeys=function(r,n){var t=caro.differentKeys(r,n).length,e=caro.differentKeys(r,n,!0).length;return 0===t&&0===e},r.sameKeys=function(r,n){for(var t=Object.keys(r),e=caro.differentKeys(r,n),a=[],o=0;o<t.length;o++){var u=t[o];e.indexOf(u)<0&&a.push(u)}return a}}(),function(){var r=caro;r.getDirPath=function(r){var n=caro.getFileName(r);return caro.replaceLast(r,n,"")},r.getFileName=function(r,n){n=!1!==n;var t=r.lastIndexOf("\\"),e=r.lastIndexOf("/");if(r=(r=r.slice(t+1)).slice(e+1),n)return r;var a=caro.getExtendName(r);return r.replace(a,"")},r.getExtendName=function(r,n){n=!1!==n;var t=caro.getFileName(r),e=caro.splitStr(t,".");if(1===e.length)return"";var a=e[e.length-1];return n&&(a="."+a),a}}(),function(){var r=caro,n=function(r,n,t,e){t=t||0;var a=null;e||(e=r.length);var o=r.split("");if("function"==typeof t){a=t;for(var u=0;u<o.length;u++){var i=o[u];!0===a(i,u)&&(o[u]=i[n]())}}else for(var f=0;f<o.length;f++)i=o[f],f>=t&&f<e&&(o[f]=i[n]());return o.join("")};r.addHead=function(r,n){return 0!==r.indexOf(n)&&(r=n+r),r},r.addTail=function(r,n){var t=n.length;return r.lastIndexOf(n)!==r.length-t&&(r+=n),r},r.brToWrap=function(r){return r.replace(/<br\s*[\/]?>/gi,"\n")},r.insertStr=function(r,n,t){return t=t||r.length,[r.slice(0,t),n,r.slice(t)].join("")},r.lowerStr=function(r,t,e){return n(r,"toLowerCase",t,e)},r.replaceAll=function(r,n,t){n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var e=new RegExp(n,"g");return r.replace(e,t)},r.replaceLast=function(r,n,t){var e=r.lastIndexOf(n);return r.slice(0,e)+r.slice(e).replace(n,t)},r.splitByWrap=function(r){return caro.splitStr(r,["\r\n","\r","\n"])},r.splitStr=function(r,n){if(Array.isArray(r))return r;if(!n)return[];Array.isArray(n)||(n=[n]);for(var t=n[0],e=0;e<n.length;e++){var a=n[e];if("string"==typeof a){if(t.length<2)break;t.length>a.length&&(t=a)}}if("string"!=typeof t)return[];for(var o=0;o<n.length;o++)"string"==typeof(a=n[o])&&(r=caro.replaceAll(r,a,t));return r.split(t)},r.strToBool=function(r){return""!==(r=r.toLowerCase())&&"false"!==r},r.upperStr=function(r,t,e){return n(r,"toUpperCase",t,e)},r.wrapToBr=function(r){return r=(r=(r=r.replace(/\r\n/g,"<br />")).replace(/\n/g,"<br />")).replace(/\r/g,"<br />")}}(),function(){var r;(r=caro).isBasicVal=function(r){return Array.from(arguments).every(function(r){return"boolean"==typeof r||"string"==typeof r||"number"==typeof r})},r.isEmptyVal=function(){return Array.from(arguments).every(function(r){return null===r||void 0===r||"number"!=typeof r&&"boolean"!=typeof r&&("object"==typeof r?Object.keys(r).length<1:r.length<1)})},r.isEasingTrue=function(r){return"string"==typeof r&&(r=r.toLowerCase()),!0===r||"true"===r||1===r},r.isEasingFalse=function(r){return"string"==typeof r&&(r=r.toLowerCase()),!1===r||"false"===r||0===r},r.isJson=function(r){try{return JSON.parse(r),!0}catch(r){return!1}},r.isObjJson=function(r){try{return"object"==typeof JSON.parse(r)}catch(r){return!1}},r.isUpper=function(r){return r.toUpperCase()===r},r.isLower=function(r){return r.toLowerCase()===r}}(),function(){var r=caro;r.toStr=function(r){return String(r)},r.toInt=function(r){return parseInt(r)},r.toNum=function(r){return Number(r)},r.toFixedNum=function(r,n){n=void 0!==n?n:2;var t=caro.toStr(r);return r%1&&(t=t.replace(/5$/,"6")),Number((+t).toFixed(n))},r.toJson=function(r,n,t){return JSON.stringify.apply(null,arguments)}}();