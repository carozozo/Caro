!function(r){var n;if("undefined"!=typeof global&&null!==global&&"undefined"!=typeof module&&null!==module&&"undefined"!=typeof exports&&null!==exports){n={};try{n=require("lodash").runInContext()}catch(r){r}module.exports=n,global.caro=n}else n="undefined"!=typeof _&&null!==_?_:{},r.caro=n}(this),function(){var r=caro;r.cleanArr=function(r){return r.splice(0,r.length),r},r.pushNoDuplicate=function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];r.indexOf(e)>-1||r.push(e)}return r},r.pushNoEmptyVal=function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];caro.isEmptyVal(e)||r.push(e)}return r},r.pullEmptyVal=function(r){for(var n=[],e=0;e<r.length&&e>=0;){var t=r[e];caro.isEmptyVal(t)?(n.push(t),r.splice(e,1)):e++}return n},r.pullUnBasicVal=function(r){for(var n=[],e=0;e<r.length&&e>=0;){var t=r[e];caro.isBasicVal(t)?e++:(n.push(t),r.splice(e,1))}return n},r.randomPick=function(r,n){var e=caro.randomInt(r.length-1);return n?r.splice(e,1)[0]:r[e]},r.sumOfArr=function(r,n){var e=0;for(var t in r){var a=r[t];"number"==typeof a?e+=a:n&&(e+=Number(a))}return e}}(),function(){var r=caro;r.executeIfFn=function(r){for(var n=[],e=1;e<arguments.length;e++){var t=arguments[e];n.push(t)}if("function"==typeof r)return r.apply(r,n)},r.formatMoney=function(r,n,e){for(var t=[],a=1;a<arguments.length;a++){var o=arguments[a];"object"==typeof o&&(e=o),"string"==typeof o&&(n=o)}e=e||{};var i=Math.abs(caro.toInteger(e.float)),u="string"==typeof e.decimal?e.decimal:".",f="separated"==typeof e.decimal?e.separated:",",s="string"==typeof e.prefix?e.prefix:"",c=!0===e.forceFloat,l=r<0?"-":"";switch(n){case"sInt":i=0,s="$";break;case"int":i=0}r=caro.toNumber(r);var p=(r=caro.toString(r)).split("."),h=p[0],g=p[1]?p[1].slice(0,i):"";if(c)for(var v=0;v<=i-g.length;v++)g+="0";var y=h.length>3?h.length%3:0;return t.push(s),t.push(l+(y?h.substr(0,y)+f:"")),t.push(h.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+f)),t.push(g?u+g:""),t.join("")},r.getFnName=function(r){if("function"!=typeof r)return null;var n=r.toString();return n=(n=n.substr("function ".length)).substr(0,n.indexOf("("))},r.getFnBody=function(r){if("function"!=typeof r)return null;var n=r.toString();return n.slice(n.indexOf("{")+1,n.lastIndexOf("}"))},r.getStackList=function(n,e){var t=[],a=(new Error).stack,o=caro.splitByWrap(a).slice(2),i=0;n=n||0,i=(e=e||null)?n+e-1:o.length-1;for(var u=0;u<o.length;u++){var f=o[u];if(!(u<n||u>i)){var s={},c=/^\s*at\s*/i;f=f.replace(c,"");var l=(c=/(.*)\s+\((.*):(\d*):(\d*)\)/gi).exec(f)||/()(.*):(\d*):(\d*)/gi.exec(f);l&&5===l.length&&(s.stack=l[0],s.method=l[1],s.path=l[2],s.line=l[3],s.position=l[4],s.file=r.getFileName(s.path),t.push(s))}}return t},r.setInterval=function(r,n,e){var t,a=0;return e=e?parseInt(e,10):0,t=setInterval(function(){e&&a===e?clearInterval(t):!1!==r(++a)||e||clearInterval(t)},n)},r.random=function(r,n){var e="",t=[];r=parseInt(r)?parseInt(r):1;var a=!1!==(n=n||{}).lower,o=!1!==n.upper,i=!1!==n.num,u=n.exclude||[];u="string"==typeof u?u.split(","):u,a&&t.push("abcdefghijklmnopqrstuvwxyz"),o&&t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),i&&t.push("0123456789"),t=t.join("");for(var f=0;f<u.length;f++){var s=u[f];s=s.trim(),t=caro.replaceAll(t,s,"")}for(var c=0;c<r;)e+=t.charAt(Math.floor(Math.random()*t.length)),c++;return e},r.randomInt=function(r,n){r=r?parseInt(r,10):0,(n=n?parseInt(n,10):0)>r&&(n=0);var e=Math.random()*(r-n+1);return Math.floor(e+n)},r.randomNum=function(r,n){return r=r?parseInt(r,10):0,(n=n?parseInt(n,10):0)>r&&(n=0),Math.random()*(r-n)+n},r.serializeUrl=function(r,n,e){var t=0,a=["?"];for(var o in n){var i=n[o];if(caro.isEmptyVal(i)){if(!e)continue;i=""}t>0&&a.push("&"),a.push(o),a.push("="),a.push(i),t++}return r+a.join("")}}(),caro.loop=function(r,n,e,t){var a;for(n=n?parseInt(n,10):0,e=e?parseInt(e,10):0,t=t?parseInt(t,10):1,n>e&&(t=-Math.abs(t)),a=n;(n<e?a<=e:a>=e)&&!1!==r(a);a+=t);},function(){var r=caro;r.assignByKeys=function(r,n,e,t){t=void 0===t||t;for(var a=0;a<e.length;a++){var o=e[a];!n.hasOwnProperty(o)||!t&&r.hasOwnProperty(o)||(r[o]=n[o])}return r},r.catching=function(r){for(var n=0;n<arguments.length;n++){var e=arguments[n];if(0!==n)for(var t in e){var a=e[t];r.hasOwnProperty(t)&&(r[t]=a)}}return r},r.classify=function(r){var n=[],e=[],t=[],a=[],o=[],i=[];for(var u=0 in r){var f=r[u];"boolean"==typeof f?e.push(f):"string"==typeof f?n.push(f):"number"==typeof f?a.push(f):Array.isArray(f)?t.push(f):"function"==typeof f?i.push(f):"object"==typeof f&&o.push(f)}return{bool:e,str:n,num:a,arr:t,obj:o,fn:i}},r.differentKeys=function(r,n,e){var t,a,o=Object.keys(r),i=Object.keys(n);e?(t=i,a=o):(t=o,a=i);for(var u=[],f=0;f<t.length;f++){var s=t[f];a.indexOf(s)<0&&u.push(s)}return u},r.hasEqualKeys=function(r,n){var e=caro.differentKeys(r,n).length,t=caro.differentKeys(r,n,!0).length;return 0===e&&0===t},r.sameKeys=function(r,n){for(var e=Object.keys(r),t=caro.differentKeys(r,n),a=[],o=0;o<e.length;o++){var i=e[o];t.indexOf(i)<0&&a.push(i)}return a}}(),function(){var r=caro;r.getDirPath=function(r){var n=caro.getFileName(r);return caro.replaceLast(r,n,"")},r.getFileName=function(r,n){n=!1!==n;var e=r.lastIndexOf("\\"),t=r.lastIndexOf("/");if(r=(r=r.slice(e+1)).slice(t+1),n)return r;var a=caro.getExtendName(r);return r.replace(a,"")},r.getExtendName=function(r,n){n=!1!==n;var e=caro.getFileName(r),t=caro.splitStr(e,".");if(1===t.length)return"";var a=t[t.length-1];return n&&(a="."+a),a}}(),function(){var r=caro,n=function(r,n,e,t){e=e||0;var a=null;t||(t=r.length);var o=r.split("");if("function"==typeof e){a=e;for(var i=0;i<o.length;i++){var u=o[i];!0===a(u,i)&&(o[i]=u[n]())}}else for(var f=0;f<o.length;f++)u=o[f],f>=e&&f<t&&(o[f]=u[n]());return o.join("")};r.addHead=function(r,n){return 0!==r.indexOf(n)&&(r=n+r),r},r.addTail=function(r,n){var e=n.length;return r.lastIndexOf(n)!==r.length-e&&(r+=n),r},r.brToWrap=function(r){return r.replace(/<br\s*[\/]?>/gi,"\n")},r.insertStr=function(r,n,e){return e=e||r.length,[r.slice(0,e),n,r.slice(e)].join("")},r.lowerStr=function(r,e,t){return n(r,"toLowerCase",e,t)},r.replaceAll=function(r,n,e){n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var t=new RegExp(n,"g");return r.replace(t,e)},r.replaceLast=function(r,n,e){var t=r.lastIndexOf(n);return r.slice(0,t)+r.slice(t).replace(n,e)},r.splitByWrap=function(r){return caro.splitStr(r,["\r\n","\r","\n"])},r.splitStr=function(r,n){if(Array.isArray(r))return r;if(!n)return[];Array.isArray(n)||(n=[n]);for(var e=n[0],t=0;t<n.length;t++){var a=n[t];if("string"==typeof a){if(e.length<2)break;e.length>a.length&&(e=a)}}if("string"!=typeof e)return[];for(var o=0;o<n.length;o++)"string"==typeof(a=n[o])&&(r=caro.replaceAll(r,a,e));return r.split(e)},r.strToBool=function(r){return""!==(r=r.toLowerCase())&&"false"!==r},r.upperStr=function(r,e,t){return n(r,"toUpperCase",e,t)},r.wrapToBr=function(r){return r=(r=(r=r.replace(/\r\n/g,"<br />")).replace(/\n/g,"<br />")).replace(/\r/g,"<br />")}}(),function(){var r;(r=caro).isBasicVal=function(r){return Array.from(arguments).every(function(r){return"boolean"==typeof r||"string"==typeof r||"number"==typeof r})},r.isEmptyVal=function(){return Array.from(arguments).every(function(r){return null===r||void 0===r||"number"!=typeof r&&"boolean"!=typeof r&&("object"==typeof r?Object.keys(r).length<1:r.length<1)})},r.isEasingTrue=function(r){return"string"==typeof r&&(r=r.toLowerCase()),!0===r||"true"===r||1===r},r.isEasingFalse=function(r){return"string"==typeof r&&(r=r.toLowerCase()),!1===r||"false"===r||0===r},r.isInteger=function(r){return"number"==typeof r&&parseInt(r)===r},r.isJson=function(r){try{JSON.parse(r)}catch(r){return r,!1}return!0},r.isObjJson=function(r){try{return"object"==typeof JSON.parse(r)}catch(r){r}return!1},r.isUpper=function(r){return r.toUpperCase()===r},r.isLower=function(r){return r.toLowerCase()===r}}(),function(){var r;(r=caro).toString=function(r){return String(r)},r.toInteger=function(r){return parseInt(r)},r.toNumber=function(r){return Number(r)},r.toFixedNumber=function(r,n=2){var e;return e=caro.toString(r),r%1&&(e=e.replace(/5$/,"6")),Number((+e).toFixed(n))},r.toJson=function(r,n,e){return JSON.stringify.apply(null,arguments)}}();