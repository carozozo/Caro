!function(r){var n,t;return n="undefined"!=typeof _&&null!==_?_:{},r.caro=n,t=function(){return"undefined"!=typeof global&&null!==global&&"undefined"!=typeof module&&null!==module&&"undefined"!=typeof exports&&null!==exports}(),t&&(n=require("lodash").runInContext(),module.exports=n,global.caro=n),n.isNode=t}(this),function(){var r;r=caro,r.cleanArr=function(r){return r.splice(0,r.length),r},r.pushNoDuplicate=function(r,n){var t;return t=caro.drop(arguments),caro.forEach(t,function(n){r.indexOf(n)>-1||r.push(n)}),r},r.pushNoEmptyVal=function(r,n){var t;return t=caro.drop(arguments),caro.forEach(t,function(n){caro.isEmptyVal(n)||r.push(n)}),r},r.pullEmptyVal=function(r){return caro.remove(r,function(r){return caro.isEmptyVal(r)})},r.pullUnBasicVal=function(r){return caro.remove(r,function(r){return!caro.isBasicVal(r)})},r.randomPick=function(r,n){var t;return null==n&&(n=!1),t=caro.randomInt(r.length-1),n?r.splice(t,1)[0]:r[t]},r.sumOfArr=function(r,n){return null==n&&(n=!1),caro.reduce(r,function(r,t){return caro.isNumber(t)||n?r+Number(t):r})}}(),function(){var r;r=caro,r.checkIfPass=function(r,n,t){return null==t&&(t=!0),caro.forEach(r,function(r){var e;return e=n(r),t&&e===!1||!t&&e===!0?(t=!t,!1):void 0}),t},r.executeIfFn=function(r,n){return n=caro.drop(arguments),caro.isFunction(r)?r.apply(r,n):void 0},r.formatMoney=function(r,n,t){var e,o,a,c,i,u,s,l,f,p,h,d,g,v;switch(p=[],caro.forEach(arguments,function(r,e){return 0!==e?caro.isObject(r)?t=r:caro.isString(r)?n=r:void 0:void 0}),t=t||{},c=Math.abs(caro.toInteger(t["float"])),o=caro.isString(t.decimal)?t.decimal:".",v=caro.isString(t.separated)?t.separated:",",f=caro.isString(t.prefix)?t.prefix:"",i=t.forceFloat===!0,d=0>r?"-":"",n){case"sInt":c=0,f="$";break;case"int":c=0}if(r=caro.toNumber(r),r=caro.toString(r),e=caro.splitStr(r,"."),s=e[0],a=e[1]?e[1].slice(0,c):"",i)for(u=l=1,h=c-a.length;h>=1?h>=l:l>=h;u=h>=1?++l:--l)a+="0";return g=s.length>3?s.length%3:0,p.push(f),p.push(d+(g?s.substr(0,g)+v:"")),p.push(s.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+v)),p.push(a?o+a:""),p.join("")},r.getFnName=function(r){var n;return caro.isFunction(r)?(n=r.toString(),n=n.substr("function ".length),n=n.substr(0,n.indexOf("("))):null},r.getFnBody=function(r){var n;return caro.isFunction(r)?(n=r.toString(),n.slice(n.indexOf("{")+1,n.lastIndexOf("}"))):null},r.getStackList=function(n,t){var e,o,a,c,i;return c=[],a=new Error,i=a.stack,e=caro.splitByWrap(i).slice(2),n=n||0,t=t||null,o=t?n+t-1:e.length-1,caro.forEach(e,function(t,e){var a,i,u,s;if(!(n>e||e>o)&&(a={},u=/^\s*at\s*/i,t=t.replace(u,""),u=/(.*)\s+\((.*):(\d*):(\d*)\)/gi,s=/()(.*):(\d*):(\d*)/gi,i=u.exec(t)||s.exec(t),i&&5===i.length))return a.stack=i[0],a.method=i[1],a.path=i[2],a.line=i[3],a.position=i[4],a.file=r.getFileName(a.path),c.push(a)}),c},r.setInterval=function(r,n,t){var e,o;return null==t&&(t=0),e=0,o=setInterval(function(){return t&&e===t?void clearInterval(o):(r()!==!1||t||clearInterval(o),e++)},n)},r.random=function(r,n){var t,e,o,a,c,i,u;for(i="",t=[],r=parseInt(r)?parseInt(r):1,n=n||{},a=n.lower!==!1,u=n.upper!==!1,c=n.num!==!1,e=n.exclude||[],e=caro.splitStr(e,","),a&&t.push("abcdefghijklmnopqrstuvwxyz"),u&&t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),c&&t.push("0123456789"),t=t.join(""),caro.forEach(e,function(r){t=caro.replaceAll(t,r,"")}),o=0;r>o;)i+=t.charAt(Math.floor(Math.random()*t.length)),o++;return i},r.randomInt=function(r,n){var t;return r=parseInt(r)||0,n=parseInt(n)||0,n>r&&(n=0),t=Math.random()*(r-n+1),Math.floor(t+n)},r.serializeUrl=function(r,n,t){var e,o;return null==t&&(t=!1),o=0,e=["?"],caro.forEach(n,function(r,n){if(caro.isEmptyVal(r)){if(!t)return;r=""}o>0&&e.push("&"),e.push(n),e.push("="),e.push(r),o++}),r+=e.join("")}}(),function(){var r;r=caro,r.loop=function(r,n,t,e){var o;for(null==n&&(n=0),null==t&&(t=0),null==e&&(e=1),o=caro.lte,n>t&&(o=caro.gte,e=-e);o(n,t)&&r(n)!==!1;)n+=e}}(),function(){var r;r=caro,r.assignByKeys=function(r,n,t,e){return null==e&&(e=!0),caro.reduce(t,function(r,t){return!caro.has(n,t)||!e&&caro.has(r,t)||(r[t]=n[t]),r},r)},r.catching=function(r){var n;return n=caro.drop(arguments),caro.forEach(n,function(n){return caro.forEach(n,function(n,t){return r.hasOwnProperty(t)?r[t]=n:void 0})}),r},r.classify=function(r){var n,t,e,o,a,c;return c=[],t=[],n=[],o=[],a=[],e=[],caro.forEach(r,function(r){if(caro.isBoolean(r))return t.push(r);if(caro.isString(r))c.push(r);else{if(caro.isNumber(r))return o.push(r);if(caro.isArray(r))return n.push(r);if(caro.isPlainObject(r))return a.push(r);if(caro.isFunction(r))return e.push(r)}}),{bool:t,str:c,num:o,arr:n,obj:a,fn:e}},r.differentKeys=function(r,n,t){var e,o;return e=caro.keys(r),o=caro.keys(n),t?caro.difference(o,e):caro.difference(e,o)},r.hasEqualKeys=function(r,n){var t,e;return t=caro.size(caro.differentKeys(r,n)),e=caro.size(caro.differentKeys(r,n,!0)),0===t&&0===e},r.sameKeys=function(r,n){var t,e;return e=caro.keys(r),t=caro.differentKeys(r,n),caro.reduce(e,function(r,n){return caro.indexOf(t,n)<0&&r.push(n),r},[])}}(),function(){var r;r=caro,r.getDirPath=function(r){var n;return n=caro.getFileName(r),r=caro.replaceLast(r,n,"")},r.getFileName=function(r,n){var t,e,o;return n=n!==!1,e=r.lastIndexOf("\\"),o=r.lastIndexOf("/"),r=r.slice(e+1),r=r.slice(o+1),n?r:(t=caro.getExtendName(r),r.replace(t,""))},r.getExtendName=function(r,n){var t,e,o;return n=n!==!1,o=caro.getFileName(r),t=caro.splitStr(o,"."),1===t.length?"":(e=t[t.length-1],n&&(e="."+e),e)}}(),function(){var r,n;n=caro,r=function(r,n,t,e){var o,a;return null==t&&(t=0),null==e&&(e=null),o=null,e||(e=r.length),a=r.split(""),caro.isFunction(t)?(o=t,caro.forEach(a,function(r,t){return o(r,t)===!0?a[t]=r[n]():void 0})):caro.forEach(a,function(r,o){return o>=t&&e>o?a[o]=r[n]():void 0}),a.join("")},n.addHead=function(r,n){return caro.startsWith(r,n)||(r=n+r),r},n.addTail=function(r,n){return caro.isString(r)?(caro.endsWith(r,n)||(r+=n),r):r},n.brToWrap=function(r){var n;return n=/<br\s*[\/]?>/gi,r.replace(n,"\n")},n.insertStr=function(r,n,t){return t=t||r.length,[r.slice(0,t),n,r.slice(t)].join("")},n.lowerStr=function(n,t,e){return r(n,"toLowerCase",t,e)},n.replaceAll=function(r,n,t){var e;return n=caro.escapeRegExp(n),e=new RegExp(n,"g"),r.replace(e,t)},n.replaceLast=function(r,n,t){var e,o,a;return e=r.lastIndexOf(n),o=r.slice(0,e),a=r.slice(e),o+a.replace(n,t)},n.splitByWrap=function(r){var n;return n=["\r\n","\r","\n"],caro.splitStr(r,n)},n.splitStr=function(r,n){var t;return caro.isArray(r)?r:n?(caro.isArray(n)||(n=[n]),t=n[0],caro.forEach(n,function(r){return caro.isString(r)?t.length<2?!1:void(t.length>r.length&&(t=r)):void 0}),caro.isString(t)?(caro.forEach(n,function(n){caro.isString(n)&&(r=caro.replaceAll(r,n,t))}),r.split(t)):[]):[]},n.strToBool=function(r){return r=r.toLowerCase(),""!==r&&"false"!==r},n.upperStr=function(n,t,e){return r(n,"toUpperCase",t,e)},n.wrapToBr=function(r){return caro.isString(r)?(r=r.replace(/\r\n/g,"<br />"),r=r.replace(/\n/g,"<br />"),r=r.replace(/\r/g,"<br />")):r}}(),function(){var r;r=caro,r.isBasicVal=function(r){return caro.checkIfPass(arguments,function(r){return!(!caro.isBoolean(r)&&!caro.isString(r)&&!caro.isNumber(r))})},r.isEmptyVal=function(r){return caro.checkIfPass(arguments,function(r){return caro.isNumber(r)||caro.isBoolean(r)?!1:caro.size(r)<1})},r.isEasingTrue=function(r){return caro.isString(r)&&(r=r.toLowerCase()),r===!0||"true"===r||1===r},r.isEasingFalse=function(r){return caro.isString(r)&&(r=r.toLowerCase()),r===!1||"false"===r||0===r},r.isInteger=function(r){var n;return caro.isNumber(r)?(n=parseInt(r),n===r):!1},r.isJson=function(r){var n,t;try{JSON.parse(r)}catch(t){return n=t,!1}return!0},r.isObjJson=function(r){var n,t,e;try{return e=JSON.parse(r),caro.isObject(e)}catch(t){n=t}return!1},r.isUpper=function(r){var n;return n=r.toUpperCase(),n===r},r.isLower=function(r){var n;return n=r.toLowerCase(),n===r}}(),function(){var r;r=caro,r.toString=function(r){return String(r)},r.toInteger=function(r){return parseInt(r)},r.toNumber=function(r){return Number(r)},r.toFixedNumber=function(r,n){var t;return null==n&&(n=2),t=caro.toString(r),r%1&&(t=t.replace(/5$/,"6")),Number((+t).toFixed(n))},r.toJson=function(r,n,t){return JSON.stringify.apply(null,arguments)}}();