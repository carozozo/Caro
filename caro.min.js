/*! caro - v0.6.7 - 2015-05-24 */
!function(a){var b,c;return b="undefined"!=typeof _&&null!==_?_:{},a.caro=b,c=function(){return"undefined"!=typeof global&&null!==global&&"undefined"!=typeof module&&null!==module&&"undefined"!=typeof exports&&null!==exports}(),c&&(b=require("lodash"),module.exports=b,global.caro=b),b.isNode=c}(this),function(){var a;a=caro,a.sumOfArr=function(a,b){var c;return null==b&&(b=!1),c=0,caro.each(a,function(a,d){caro.isNumber(d)&&(c+=d),b&&(c+=parseFloat(d)||0)}),c},a.pushNoDup=function(a,b){return caro.eachArgs(arguments,function(b,c){0===b||a.indexOf(c)>-1||a.push(c)}),a},a.pushNoEmpty=function(a,b){return caro.eachArgs(arguments,function(b,c){0===b||caro.isEmptyVal(c)||a.push(c)}),a},a.hasEmptyInArr=function(a){var b,c;return c=!1,b=function(a){caro.each(a,function(a,b){return caro.isEmptyVal(b)?(c=!0,!1):void 0})},caro.each(arguments,function(a,d){return c?!1:void b(d)}),c},a.removeEmptyInArr=function(a){var b;return b=[],caro.each(a,function(a,c){caro.isEmptyVal(c)||b.push(c)}),a=b},a.basicArr=function(a){var b;return b=[],caro.each(a,function(a,c){caro.isBasicVal(c)&&b.push(c)}),a=b}}(),function(){var a,b,c,d;d=caro,a=caro.isNode?require("colors"):null,b=function(a,b){return a=caro.cloneObj(a),b=caro.cloneObj(b),a=caro.coverToStr(a),caro.isUndefined(b)&&(b=""),b=caro.coverToStr(b),a+=b},c=function(c,d){var e,f;return caro.getObjLength(c)<=0?console.log():(e=c[0],f=c[1],e=b(e,f),a&&(e=e[d]),void console.log(e))},d.log=function(a,b){return this.isOdd?(c(arguments,"green"),void(this.isOdd=!1)):(c(arguments,"cyan"),void(this.isOdd=!0))},d.log2=function(a,b){return this.isOdd?(c(arguments,"blue"),void(this.isOdd=!1)):(c(arguments,"yellow"),void(this.isOdd=!0))},d.log3=function(a,b){return this.isOdd?(c(arguments,"magenta"),void(this.isOdd=!1)):(c(arguments,"red"),void(this.isOdd=!0))}}(),function(){var a;a=caro,a.isBasicVal=function(a){return caro.checkIfPassCb(arguments,function(a){return!(!caro.isBoolean(a)&&!caro.isString(a)&&!caro.isNumber(a))})},a.isEmptyVal=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isObject(a)?caro.getObjLength(a)<1:caro.isArray(a)?a.length<1:!a&&0!==a&&a!==!1})},a.isTrue=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isString(a)&&(a=a.toLowerCase()),a===!0||"true"===a||1===a})},a.isFalse=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isString(a)&&(a=a.toLowerCase()),a===!1||"false"===a||0===a})},a.checkIfPassCb=function(a,b,c){return null==c&&(c=!0),!Array.isArray(a)&&"object"!=typeof a||!caro.isFunction(b)?!1:(caro.each(a,function(a,d){var e;return e=b(d),c&&e===!1||!c&&e===!0?(c=!c,!1):void 0}),c)},a.executeIfFn=function(a,b){var c,d;return c=[],d=void 0,caro.eachArgs(arguments,function(a,b){1>a||c.push(b)}),caro.isFunction(a)&&(d=a.apply(a,c)),d},a.getFnName=function(a){var b;return caro.isFunction(a)?(b=a.toString(),b=b.substr("function ".length),b=b.substr(0,b.indexOf("("))):null},a.formatMoney=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;switch(m=[],caro.eachArgs(arguments,function(a,d){return 0!==a?caro.isObject(d)?c=d:caro.isString(d)?b=d:void 0:void 0}),c=caro.coverToObj(c),g=Math.abs(caro.coverToInt(c["float"])),e=caro.isString(c.decimal)?c.decimal:".",q=caro.isString(c.separated)?c.separated:",",l=caro.isString(c.prefix)?c.prefix:"",h=c.forceFloat===!0,o=0>a?"-":"",b){case"sInt":g=0,l="$";break;case"int":g=0}if(a=caro.coverToNum(a),a=caro.coverToStr(a),d=caro.splitStr(a,"."),j=d[0],f=d[1]?d[1].slice(0,g):"",h)for(i=k=1,n=g-f.length;n>=1?n>=k:k>=n;i=n>=1?++k:--k)f+="0";return p=j.length>3?j.length%3:0,m.push(l),m.push(o+(p?j.substr(0,p)+q:"")),m.push(j.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+q)),m.push(f?e+f:""),m.join("")},a.coverToArr=function(a){return caro.isArray(a)?a:[a]},a.coverToStr=function(a){return String(a)},a.coverToInt=function(a,b){var c;return null==b&&(b=!0),c=parseInt(a),b?c||0:a},a.coverToNum=function(a,b){var c;return null==b&&(b=!0),c=parseFloat(a),b?c||0:a},a.coverToFixed=function(a,b,c){var d;return null==c&&(c=!0),b=b||0,d=caro.coverToStr(a),a%1&&(d=d.replace(/5$/,"6")),d=Number((+d).toFixed(b)),c?d||0:a},a.coverToObj=function(a,b){var c,d;if(null==b&&(b=!0),caro.isObject(a))return a;if(caro.isArray(a))return d={},caro.each(a,function(a,b){return d[a]=b}),d;try{if(d=JSON.parse(a),caro.isObject(d))return d}catch(e){c=e}return b?{}:a},a.coverToJson=function(a,b){var c,d,e,f;return d="",b=caro.coverToObj(b),c=b.force!==!1,e=b.replacer||null,f=null!=b.space?b.space:4,d=f?JSON.stringify(a,e,f):JSON.stringify(a,e),caro.isJson(d)?d:c?"":a}}(),function(){var a;a=caro,a.loop=function(a,b,c,d){var e,f,g;for(null==b&&(b=0),null==c&&(c=0),null==d&&(d=1),c>b?(f=b,e=c,g=d):(f=c,e=b,g=-d);e>=f&&a(b)!==!1;)b+=g,f+=d},a.each=function(a,b){var c,d,e;c=Array.isArray(a);for(d in a)if(e=a[d],c&&(d=parseInt(d)),b(d,e)===!1)break},a.eachArgs=function(a,b){var c;for(c in a)if(c=parseInt(c),b(c,a[c])===!1)break}}(),function(){var a,b,c;c=caro,a=function(a,b,c){var d,e;return d=["upper","lower","upperFirst","trim"],e=a,!caro.isObject(a)||d.indexOf(b)<0?a:(c=c||caro.getKeysInObj(e),c=caro.splitStr(c,","),caro.each(c,function(a,c){var d,f;if(caro.keysInObj(e,c)&&(f=e[c],caro.isString(f)))switch(d={force:!1},b){case"upper":e[c]=caro.upperStr(f,d);break;case"lower":e[c]=caro.lowerStr(f,d);break;case"upperFirst":e[c]=caro.upperFirst(f,!1);break;case"trim":e[c]=caro.trimStr(f,!1)}}),e)},b=function(a,b,c){caro.isArray(a)?a.push(c):caro.isObject(a)&&(a[b]=c)},c.getObjLength=function(a){return Object.keys(a).length},c.extendObj=function(a,c){var d;return null==a&&(a=!1),d=null,caro.isBoolean(a)||(d=a,a=!1),caro.eachArgs(arguments,function(c,e){var f,g;if(!d&&caro.isObject(e))return d=e,!0;f=[];for(c in e)g=e[c],caro.isObject(g)&&caro.keysInObj(d,c)&&!a||f.push(b(d,c,g));return f}),d},c.cloneObj=function(a,b){var c;return null==b&&(b=!1),caro.isObject(a)?(c=caro.isArray(a)?[]:{},caro.extendObj(c,a),b&&caro.each(c,function(a,b){return c[a]=caro.cloneObj(b)}),c):a},c.replaceObjKey=function(a,b){var c;return c=a,caro.each(c,function(a,d){var e;e=caro.executeIfFn(b,a),e&&(c[e]=d,delete c[a])}),c},c.replaceObjVal=function(a,b,c){var d,e;return null==c&&(c=!1),e=a,d=function(a){caro.each(a,function(e,f){var g;return caro.isObject(f)&&c?void d(f):(g=caro.executeIfFn(b,f),void(void 0!==g&&(a[e]=g)))})},d(e),e},c.upperCaseByObjKey=function(b,c){return a(b,"upper",c)},c.lowerCaseByObjKey=function(b,c){return a(b,"lower",c)},c.upperFirstByObjKey=function(b,c){return a(b,"upperFirst",c)},c.trimByObjKey=function(b,c){return a(b,"trim",c)},c.keysInObj=function(a,b){var c;return caro.isObject(a)?(c=!0,b=caro.splitStr(b,","),caro.each(b,function(b,d){return a.hasOwnProperty(d)?void 0:(c=!1,!1)}),c):!1},c.getKeysInObj=function(a,b){var c,d,e;return e=[],caro.isObject(a)?(b=caro.coverToInt(b,!1)>-1?b:1,d=0,c=function(a){d++,caro.each(a,function(a,f){b>0&&d>b||(e.push(a),caro.isObject(f)&&c(f))}),d--},c(a),e):e},c.coverFnToStrInObj=function(a,b){var c;return null==b&&(b=!0),c=a,caro.each(c,function(a,d){var e;caro.isPlainObject(d)?caro.coverFnToStrInObj(d):caro.isFunction(d)&&(e=d.toString(),b?e=e.replace(/([\r]\s*|[\n]\s*)/g,""):(e=e.replace(/[\r]\s*/g,"\r "),e=e.replace(/[\n]\s*/g,"\n ")),c[a]=e)}),c},c.objToArr=function(a){var b;return b=[],caro.each(a,function(a,c){b.push(c)}),b}}(),function(){var a,b,c;caro.isNode&&(c=caro,b=require("path"),a="undefined"!=typeof __dirname?__dirname:"",c.setAbsolutePath=function(b){return caro.isString(b)?a=caro.normalizePath(b):!1},c.getAbsolutePath=function(){return a},c.normalizePath=function(a){var c;return c=caro.objToArr(arguments),b.join.apply(b,c)},c.isFullPath=function(b){var c;return c=!0,caro.each(arguments,function(b,d){return d=caro.normalizePath(d),0!==d.indexOf(a)?(c=!1,!1):void 0}),c},c.getDirPath=function(a){return b.dirname(a)},c.getFileName=function(a,c){var d;return null==c&&(c=!0),c?b.basename(a):(d=caro.getExtendName(a),b.basename(a,d))},c.getExtendName=function(a,c){var d;return null==c&&(c=!0),d=b.extname(a),c||(d=d.replace(".","")),d},c.coverToFullPath=function(c){return c=caro.normalizePath.apply(this,arguments),caro.isFullPath(c)||(c=b.join(a,c)),c})}(),function(){var a,b;b=caro,a=function(a,b,c){var d,e,f,g,h;if(g=[],d=["toUpperCase","toLowerCase"],c=caro.coverToObj(c),h=caro.coverToInt(c.start),e=caro.coverToInt(c.end)>0?caro.coverToInt(c.end):null,f=c.force!==!1,!caro.isString(a)){if(!f)return a;a=""}return b=d.indexOf(b)>-1?b:d[0],g.push(a.slice(0,h)),e?(g.push(a.slice(h,e)[b]()),g.push(a.slice(e))):g.push(a.slice(h)[b]()),g.join("")},b.isUpper=function(a){var b;return b=!0,caro.checkIfPassCb(arguments,function(a){var c;return c=a.toUpperCase(),c!==a?b=!1:void 0}),b},b.isLower=function(a){var b;return b=!0,caro.checkIfPassCb(arguments,function(a){var c;return c=a.toLowerCase(),c!==a?b=!1:void 0}),b},b.random=function(a,b){var c,d,e,f,g,h,i;for(h="",c=[],a=parseInt(a)?parseInt(a):1,b=caro.coverToObj(b),f=b.lower!==!1,i=b.upper!==!1,g=b.num!==!1,d=b.exclude||[],d=caro.splitStr(d,","),f&&c.push("abcdefghijklmnopqrstuvwxyz"),i&&c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),g&&c.push("0123456789"),c=c.join(""),caro.each(d,function(a,b){c=caro.replaceAll(c,b,"")}),e=0;a>e;)h+=c.charAt(Math.floor(Math.random()*c.length)),e++;return h},b.strToBool=function(a){return a=a.toLowerCase(),""!==a&&"false"!==a},b.hasHead=function(a,b){return caro.isString(a)?0===a.indexOf(b):!1},b.addHead=function(a,b){return caro.isString(a)?(caro.hasHead(a,b)||(a=b+a),a):a},b.hasTail=function(a,b){var c,d,e;return caro.isString(a)?(c=a.lastIndexOf(b),d=a.length,e=b.length,d>e&&c===d-e):!1},b.addTail=function(a,b){return caro.isString(a)?(caro.hasTail(a,b)||(a+=b),a):a},b.wrapToBr=function(a){return caro.isString(a)?(a=a.replace(/\r\n/g,"<br />"),a=a.replace(/\n/g,"<br />"),a=a.replace(/\r/g,"<br />")):a},b.brToWrap=function(a){var b;return b=/<br\s*[\/]?>/gi,a.replace(b,"\n")},b.splitByWrap=function(a){var b;return caro.isString(a)?(b=["\r\n","\r","\n"],caro.splitStr(a,b)):a},b.escapeRegExp=function(a){return caro.isString(a)?a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"):a},b.replaceAll=function(a,b,c){var d,e;return d=caro.isRegExp(b),caro.isString(a,b,c)||d?(e=b,d||(b=caro.escapeRegExp(b),e=new RegExp(b,"g")),a.replace(e,c)):a},b.insertBlankBefUpper=function(a){var b,c;return caro.isString(a)?(c=[],b=a.split(""),caro.each(b,function(a,b){return a>0&&caro.isUpper(b)&&c.push(" "),c.push(b)}),c.join("")):a},b.upperStr=function(b,c){return a(b,"upperCase",c)},b.upperFirst=function(a,b){var c;return c={start:0,end:1,force:b!==!1},caro.upperStr(a,c)},b.lowerStr=function(b,c){return a(b,"toLowerCase",c)},b.trimStr=function(a,b,c){var d,e;return b=caro.isString(b)?b:" ",b=caro.escapeRegExp(b),(c===!0||c!==!1)&&(d=new RegExp("^"+b+"+"),a=a.replace(d,"")),(c===!1||c!==!0)&&(e=new RegExp(b+"+$"),a=a.replace(e,"")),a},b.splitStr=function(a,b){var c;return caro.isArray(a)?a:b?(b=caro.coverToArr(b),c=b[0],c.length>1&&caro.each(b,function(a,b){caro.isString(b)&&(2>c||c.length>=b.length&&(c=b))}),caro.isString(c)?(caro.each(b,function(b,d){caro.isString(d)&&(a=caro.replaceAll(a,d,c))}),a.split(c)):a):[]},b.serializeUrl=function(a,b,c){var d,e;return null==c&&(c=!1),e=0,d=["?"],caro.each(b,function(a,b){if(caro.isEmptyVal(b)){if(!c)return;b=""}e>0&&d.push("&"),d.push(a),d.push("="),d.push(b),e++}),a+=d.join("")}}(),function(){var a,b;b=caro,a=function(a,b){var c;return c=!0,caro.each(a,function(a,d){typeof d!==b&&(c=!1)}),c},b.isInteger=function(a){var b;return caro.isNumber(a)?(b=parseInt(a),b===a):!1},b.isJson=function(a){var b;try{JSON.parse(a)}catch(c){return b=c,!1}return!0},b.isObjJson=function(a){var b,c;try{return c=JSON.parse(a),caro.isObject(c)}catch(d){b=d}return!1}}();