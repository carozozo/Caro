/*! caro - v0.5.15 - 2015-05-23 */
!function(a){"use strict";var b;return b=require("lodash"),b.isNode=function(){return"undefined"!=typeof global&&null!==global&&"undefined"!=typeof module&&null!==module&&"undefined"!=typeof exports&&null!==exports}(),a.caro=b,b.isNode?(module.exports=b,global.caro=b):void 0}(this),function(){var a;a=caro,a.sortArr=function(a,b){return null==b&&(b=!0),a.sort(function(a,c){return b?c>a?-1:a>c?1:0:a>c?-1:c>a?1:0}),a},a.sortByObjKey=function(a,b,c){return null==c&&(c=!0),a.sort(function(a,d){var e,f;return e=a[b]||0,f=d[b]||0,c?f>e?-1:e>f?1:0:e>f?-1:f>e?1:0}),a},a.sumOfArr=function(a,b){var c;return null==b&&(b=!1),c=0,caro.each(a,function(a,d){caro.isNum(d)&&(c+=d),b&&(c+=parseFloat(d)||0)}),c},a.removeByIndex=function(a,b){var c;return c=0,caro.eachArgs(arguments,function(b,d){return 0!==b?(d-=c,a.splice(d,1),c++):void 0}),a},a.removeByArrVal=function(a,b){var c,d;return c=caro.objToArr(arguments),c.shift(),d=[],caro.each(a,function(a,b){c.indexOf(b)<0&&d.push(b)}),a=d},a.removeDup=function(a){var b;return b=[],caro.each(a,function(a,c){b.indexOf(c)<0&&b.push(c)}),a=b},a.pushNoDup=function(a,b){return caro.eachArgs(arguments,function(b,c){0===b||a.indexOf(c)>-1||a.push(c)}),a},a.pushNoEmpty=function(a,b){return caro.eachArgs(arguments,function(b,c){0===b||caro.isEmptyVal(c)||a.push(c)}),a},a.hasEmptyInArr=function(a){var b,c;return c=!1,b=function(a){caro.each(a,function(a,b){return caro.isEmptyVal(b)?(c=!0,!1):void 0})},caro.each(arguments,function(a,d){return c?!1:void b(d)}),c},a.removeEmptyInArr=function(a){var b;return b=[],caro.each(a,function(a,c){caro.isEmptyVal(c)||b.push(c)}),a=b},a.basicArr=function(a){var b;return b=[],caro.each(a,function(a,c){caro.isBasicVal(c)&&b.push(c)}),a=b}}(),function(){var a,b,c,d;d=caro,a=caro.isNode?require("colors"):null,b=function(a,b){return a=caro.cloneObj(a),b=caro.cloneObj(b),a=caro.coverToStr(a),caro.isUndef(b)&&(b=""),b=caro.coverToStr(b),a+=b},c=function(c,d){var e,f;return caro.getObjLength(c)<=0?console.log():(e=c[0],f=c[1],e=b(e,f),a&&(e=e[d]),void console.log(e))},d.log=function(a,b){return this.isOdd?(c(arguments,"green"),void(this.isOdd=!1)):(c(arguments,"cyan"),void(this.isOdd=!0))},d.log2=function(a,b){return this.isOdd?(c(arguments,"blue"),void(this.isOdd=!1)):(c(arguments,"yellow"),void(this.isOdd=!0))},d.log3=function(a,b){return this.isOdd?(c(arguments,"magenta"),void(this.isOdd=!1)):(c(arguments,"red"),void(this.isOdd=!0))}}(),function(){var a,b,c,d,e,f,g,h;(caro.isNode||e)&&(e=require("moment")),null!=e&&(h=caro,c="en",f={},d=function(a){return a?e(a):e()},b=function(a){return a=caro.coverToStr(a,!1),a||c},a=function(a,d){var e;return d=b(d),e=f[d]||f[c]||{},e[a]||a},g=function(a,b){return caro.formatDateTime(a,b)},h.setDefaultLocale=function(a){a=b(a),c=a},h.getDefaultLocale=function(){return c},h.addDateTimeShortFormat=function(a,c,d){d=b(d),f[d]=f[d]||{},f[d][a]=c},h.formatDateTime=function(f,g,h){var i,j;return h=b(h),h&&e.locale(h),g=a(g,h),i=d(f),j=i.format(g),e.locale(c),j},h.formatNow=function(a,b){return caro.formatDateTime(null,a,b)},h.addDateTime=function(a,b,c,e){var f;return f=d(a),caro.isObj(b)?f.add(b):f.add(b,c),g(f,e)},h.subtractDateTime=function(a,b,c,e){var f;return f=d(a),caro.isObj(b)?f.subtract(b):f.subtract(b,c),g(f,e)},h.startOfDateTime=function(a,b,c){var e;return e=d(a),e.startOf(b),g(e,c)},h.endOfDateTime=function(a,b,c){var e;return e=d(a),e.endOf(b),g(e,c)},h.getUtc=function(a,b){var c;return c=d(a),c.utc(),g(c,b)},h.isBeforeDateTime=function(a,b,c){var e,f;return e=d(a),f=d(b),e.isBefore(f,c)},h.isAfterDateTime=function(a,b,c){var e,f;return e=d(a),f=d(b),e.isAfter(f,c)},h.isSameDateTime=function(a,b,c){var e;return e=d(a),e.isSame(b,c)},h.isBetweenDateTime=function(a,b,c,e){var f,g,h;return f=d(a),g=d(b),h=d(c),f.isBetween(g,h,e)},h.isValidDateTime=function(a){var b;return b=d(a),b.isValid()},h.getDateTimeDiff=function(a,b,c,e){var f,g;return null==e&&(e=!1),f=d(a),g=d(b),f.diff(g,c,e)})}(),function(){var a,b,c,d,e,f,g,h,i;caro.isNode&&(g=caro,f=require("fs"),b=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=!1,h=function(a){return i?console.error(a):void 0},d=function(a){var b,c,d,e,f;return f=[],d=[],c=[],b=[],e=[],caro.each(a,function(a,g){return caro.isFn(g)?void d.push(g):caro.isBool(g)?void c.push(g):caro.isStr(g)?void f.push(g):caro.isArr(g)?void b.push(g):caro.isNum(g)?void e.push(g):void 0}),{fn:d,bool:c,str:f,arr:b,num:e}},a=function(a){return a.length<1?!1:a},e=function(a){var b;return b=caro.getFsStat(a),b?b.size:caro.isNum(a)?a:null},g.setFsTrace=function(a){return i=a===!0},g.readFileCaro=function(a,b,c){var d;null==b&&(b="utf8"),null==c&&(c=null);try{return f.readFileSync(a,{encoding:b,flag:c})}catch(e){d=e,h(d)}return!1},g.writeFileCaro=function(a,b,c,d){var e;null==c&&(c="utf8"),null==d&&(d=null);try{return f.writeFileSync(a,b,{encoding:c,flag:d}),!0}catch(g){e=g,h(e)}return!1},g.isEmptyDir=function(a,b){var c,e,g;return g=!0,e=d(arguments),c=e.str,b=e.fn[0],caro.each(c,function(a,c){var d,e;try{d=f.readdirSync(c),d.length>0&&(g=!1),caro.executeIfFn(b,!1,c)}catch(i){e=i,h(e),g=!1,caro.executeIfFn(b,e,c)}}),g},g.readDirCb=function(a,b,c){var d,e,g,i,j,k,l;null==c&&(c={}),d=0,j=null!=c.maxLayer?parseInt(c.maxLayer,10):1,g=c.getDir!==!1,i=c.getFile!==!1,e=function(){var a;return a=!1,c.getByExtend&&(a=caro.splitStr(c.getByExtend,","),caro.each(a,function(b,c){a[b]=caro.addHead(c,".")})),a}(),k=function(a){var c;return c=a.extendName,e&&e.indexOf(c)<0?void 0:b(!1,a)},(l=function(a,c){var d,e;if(!(j>0&&c>=j)){try{e=f.readdirSync(a)}catch(m){d=m,h(d),b(d)}c++,caro.each(e,function(b,d){var e,f,h,j,m,n,o,p;return m=caro.getFileName(d,!1),f=caro.getExtendName(d),h=caro.normalizePath(a,d),e=caro.getDirPath(h),o=caro.coverToFullPath(h),n=caro.getDirPath(o),j=caro.getFileType(h),p={filename:m,extendName:f,basename:d,filePath:h,dirPath:e,fullPath:o,fullDirPath:n,fileType:j,layer:c-1,index:b},caro.isFsDir(h)?g&&k(p)===!1?!1:void l(h,c):caro.isFsFile(h)&&i&&k(p)===!1?!1:void 0})}})(a,d)},g.createDir=function(b,c){var e,g,i,j,k;return j=[],k=!0,g=d(arguments),e=g.str,c=g.fn[0],i=function(a){var b;return b="",e=caro.splitStr(a,["\\","/"]),caro.each(e,function(a,c){var d,e;if(b=caro.normalizePath(b,c),e=caro.fsExists(b),!e)try{f.mkdirSync(b)}catch(g){d=g,h(d),k=!1,j.push(d)}}),j},caro.each(e,function(b,d){return j=[],j=i(d),j=a(j),caro.executeIfFn(c,j,d)}),k},g.fsExists=function(a,b){var c,e,g;return g=!0,e=d(arguments),c=e.str,b=e.fn[0],caro.each(c,function(a,c){var d,e;e=!1;try{f.existsSync(c)||(g=!1)}catch(i){d=i,h(d),g=!1,e=d}caro.executeIfFn(b,e,c)}),g},g.isFsDir=function(a,b){var c,e,f;return f=!0,e=d(arguments),c=e.str,b=e.fn[0],caro.each(c,function(a,c){var d,e,g;e=!1;try{g=caro.getFsStat(c),f&&(f=g.isDirectory())}catch(i){d=i,h(d),f=!1,e=d}caro.executeIfFn(b,e,c)}),f},g.isFsFile=function(a){var b,c,e,f;return f=!0,c=d(arguments),b=c.str,e=c.fn[0],caro.each(b,function(a,b){var c,d,g;d=!1;try{g=caro.getFsStat(b),f&&(f=g.isFile())}catch(i){c=i,h(c),f=!1,d=c}caro.executeIfFn(e,d,b)}),f},g.isFsSymlink=function(a){var b,c,e,f;return f=!0,c=d(arguments),b=c.str,e=c.fn[0],caro.each(b,function(a,b){var c,d,g;d=!1;try{g=caro.getFsStat(b),f&&(f=g.isSymbolicLink())}catch(i){c=i,h(c),f=!1,d=c}caro.executeIfFn(e,d,b)}),f},g.getFileType=function(a){var b;return b="",caro.isFsDir(a)&&(b="dir"),caro.isFsFile(a)&&(b="file"),caro.isFsSymlink(a)&&(b="link"),b},g.deleteFs=function(b,c,e){var g,i,j,k,l,m;return k=[],l=!0,i=d(arguments),g=i.str,c=i.fn[0],e=i.bool[0],m=function(a){var b;try{a()}catch(c){b=c,h(b),l=!1,k.push(b)}},j=function(a){return caro.isFsFile(a)&&e?void m(function(){return f.unlinkSync(a)}):(caro.isFsDir(a)&&m(function(){var b;b=f.readdirSync(a),caro.each(b,function(b,c){var d;d=caro.normalizePath(a,c),j(d)})}),m(function(){return f.rmdirSync(a)}),k)},caro.each(g,function(b,d){return k=[],k=j(d),k=a(k),caro.executeIfFn(c,k,d)}),l},g.renameFs=function(a,b,c,e){var g,i,j;return null==e&&(e=!1),j=!0,g=[],i=d(arguments),c=i.fn[0],e=i.bool[0],g=function(){return caro.isStr(a,b)?[a,b]:i.arr}(),caro.each(g,function(a,b){var d,g,i,k,l;i=!1,k=b[0],l=b[1];try{e&&caro.fsExists(k)&&(d=caro.getDirPath(l),caro.createDir(d)),f.renameSync(k,l)}catch(m){g=m,h(g),j=!1,i=g}caro.executeIfFn(c,i,k,l)}),j},g.getFsStat=function(a,b){var c,d,e;null==b&&(b="l"),e=null,c=["l","s","f"],b=c.indexOf(b)>-1?b:c[0];try{switch(b){case"s":e=f.lstatSync(a);break;case"f":e=f.fstatSync(a);break;default:e=f.statSync(a)}}catch(g){d=g,h(d)}return e},g.getFsSize=function(a,f,g){var h,i,j,k,l,m,n,o;if(null==f&&(f=1),i=e(a),null===i)return i;if(h=caro.objToArr(arguments),h.shift(),h=d(h),f=caro.coverToInt(h.num[0]),f=f>-1?f:1,g=h.str[0],n=!0,g=caro.upperFirst(g),g=caro.upperStr(g,{start:-1}),l=b.indexOf(g),m=c.indexOf(g),m>-1&&(n=!1),k=n?l:m,0>k)return i;for(j=0,o=n?1e3:1024;k>j;)i/=o,++j;return caro.coverToNum(i.toFixed(f))},g.humanFeSize=function(a,d,f){var g,h,i,j;if(null==d&&(d=1),null==f&&(f=!0),h=e(a),null===h)return h;if(i=f?1e3:1024,i>h)return h+" B";for(g=f?b:c,j=-1;h>=i;)h/=i,++j;return caro.coverToFixed(h,d)+" "+g[j]})}(),function(){var a;a=caro,a.isBasicVal=function(a){return caro.checkIfPassCb(arguments,function(a){return!(!caro.isBool(a)&&!caro.isStr(a)&&!caro.isNum(a))})},a.isEmptyVal=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isObj(a)?caro.getObjLength(a)<1:caro.isArr(a)?a.length<1:!a&&0!==a&&a!==!1})},a.isTrue=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isStr(a)&&(a=a.toLowerCase()),a===!0||"true"===a||1===a})},a.isFalse=function(a){return caro.checkIfPassCb(arguments,function(a){return caro.isStr(a)&&(a=a.toLowerCase()),a===!1||"false"===a||0===a})},a.checkIfPassCb=function(a,b,c){return null==c&&(c=!0),!Array.isArray(a)&&"object"!=typeof a||!caro.isFn(b)?!1:(caro.each(a,function(a,d){var e;return e=b(d),c&&e===!1||!c&&e===!0?(c=!c,!1):void 0}),c)},a.executeIfFn=function(a,b){var c,d;return c=[],d=void 0,caro.eachArgs(arguments,function(a,b){1>a||c.push(b)}),caro.isFn(a)&&(d=a.apply(a,c)),d},a.getFnName=function(a){var b;return caro.isFn(a)?(b=a.toString(),b=b.substr("function ".length),b=b.substr(0,b.indexOf("("))):null},a.formatMoney=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;switch(m=[],caro.eachArgs(arguments,function(a,d){return 0!==a?caro.isObj(d)?c=d:caro.isStr(d)?b=d:void 0:void 0}),c=caro.coverToObj(c),g=Math.abs(caro.coverToInt(c["float"])),e=caro.isStr(c.decimal)?c.decimal:".",q=caro.isStr(c.separated)?c.separated:",",l=caro.isStr(c.prefix)?c.prefix:"",h=c.forceFloat===!0,o=0>a?"-":"",b){case"sInt":g=0,l="$";break;case"int":g=0}if(a=caro.coverToNum(a),a=caro.coverToStr(a),d=caro.splitStr(a,"."),j=d[0],f=d[1]?d[1].slice(0,g):"",h)for(i=k=1,n=g-f.length;n>=1?n>=k:k>=n;i=n>=1?++k:--k)f+="0";return p=j.length>3?j.length%3:0,m.push(l),m.push(o+(p?j.substr(0,p)+q:"")),m.push(j.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+q)),m.push(f?e+f:""),m.join("")},a.coverToArr=function(a){return caro.isArr(a)?a:[a]},a.coverToStr=function(a,b){return null==b&&(b=!0),caro.isStr(a)?a:void 0===a?b?"undefined":"":null===a?b?"null":"":caro.isObj(a)?b?(caro.coverFnToStrInObj(a,!1),a=caro.coverToJson(a),a=caro.replaceAll(a,"\\r","\r"),a=caro.replaceAll(a,"\\n","\n")):"":caro.isFn(a.toString)?a.toString():b?"":a},a.coverToInt=function(a,b){var c;return null==b&&(b=!0),c=parseInt(a),b?c||0:a},a.coverToNum=function(a,b){var c;return null==b&&(b=!0),c=parseFloat(a),b?c||0:a},a.coverToFixed=function(a,b,c){var d;return null==c&&(c=!0),b=b||0,d=caro.coverToStr(a),a%1&&(d=d.replace(/5$/,"6")),d=Number((+d).toFixed(b)),c?d||0:a},a.coverToObj=function(a,b){var c,d;if(null==b&&(b=!0),caro.isObj(a))return a;if(caro.isArr(a))return d={},caro.each(a,function(a,b){return d[a]=b}),d;try{if(d=JSON.parse(a),caro.isObj(d))return d}catch(e){c=e}return b?{}:a},a.coverToJson=function(a,b){var c,d,e,f;return d="",b=caro.coverToObj(b),c=b.force!==!1,e=b.replacer||null,f=null!=b.space?b.space:4,d=f?JSON.stringify(a,e,f):JSON.stringify(a,e),caro.isJson(d)?d:c?"":a}}(),function(){var a,b,c,d,e,f;caro.isNode&&(d=caro,b="",a=".log",f=!1,e=function(a){return f?console.error(a):void 0},c=function(c){return c=caro.normalizePath(b,c),caro.addTail(c,a)},d.setLogTrace=function(a){return f=a===!0},d.setLogRoot=function(a){return null==a&&(a=b),a=caro.coverToStr(a),a=caro.normalizePath(a),caro.createDir(a)?(b=a,!0):!1},d.getLogRoot=function(){return b},d.setLogExtendName=function(b){return null==b&&(b=a),(b=caro.coverToStr(b))?(b=caro.addHead(b,"."),a=b,!0):!1},d.getLogExtendName=function(){return a},d.readLog=function(a){var b;a=c(a);try{return caro.fsExists(a)?caro.readFileCaro(a):null}catch(d){return b=d,e(b),null}},d.writeLog=function(a,b){var d,f,g;null==b&&(b=""),a=c(a);try{return g=caro.getFsSize(a),f=Math.pow(10,6),g>f?(console.error("caro.log: ",a+" size "+g+" is more thane 1 MB"),!1):(b=caro.coverToStr(b),caro.writeFileCaro(a,b))}catch(h){d=h,e(d)}return!1},d.updateLog=function(a,b,c){var d,e,f,g;return null==c&&(c={}),e=caro.readLog(a),g="\r\n",d=!0,f=!1,c&&(d=c.ifWrap!==!1,f=c.prepend===!0),e=e||"",b=caro.coverToStr(b),e&&d&&(f?b+=g:e+=g),f?b+=e:b=e+b,caro.writeLog(a,b)},d.updateLogWithDayFileName=function(a,b,c){var d,e;return null==c&&(c={}),e=caro.formatNow("YYYYMMDD"),d=c.dateFirst!==!1?!0:!1,a=d?caro.addTail(e,"_"+a):caro.addTail(a,"_"+e),caro.updateLog(a,b,c)},d.traceLog=function(a,b){var c;return c="trace",caro.updateLog(c,a,b)})}(),function(){var a;a=caro,a.loop=function(a,b,c,d){var e,f,g;for(null==b&&(b=0),null==c&&(c=0),null==d&&(d=1),c>b?(f=b,e=c,g=d):(f=c,e=b,g=-d);e>=f&&a(b)!==!1;)b+=g,f+=d},a.each=function(a,b){var c,d,e;c=Array.isArray(a);for(d in a)if(e=a[d],c&&(d=parseInt(d)),b(d,e)===!1)break},a.eachArgs=function(a,b){var c;for(c in a)if(c=parseInt(c),b(c,a[c])===!1)break}}(),function(){var a,b,c;c=caro,a=function(a,b,c){var d,e;return d=["upper","lower","upperFirst","trim"],e=a,!caro.isObj(a)||d.indexOf(b)<0?a:(c=c||caro.getKeysInObj(e),c=caro.splitStr(c,","),caro.each(c,function(a,c){var d,f;if(caro.keysInObj(e,c)&&(f=e[c],caro.isStr(f)))switch(d={force:!1},b){case"upper":e[c]=caro.upperStr(f,d);break;case"lower":e[c]=caro.lowerStr(f,d);break;case"upperFirst":e[c]=caro.upperFirst(f,!1);break;case"trim":e[c]=caro.trimStr(f,!1)}}),e)},b=function(a,b,c){caro.isArr(a)?a.push(c):caro.isObj(a)&&(a[b]=c)},c.getObjLength=function(a){return Object.keys(a).length},c.extendObj=function(a,c){var d;return null==a&&(a=!1),d=null,caro.isBool(a)||(d=a,a=!1),caro.eachArgs(arguments,function(c,e){var f,g;if(!d&&caro.isObjOrArr(e))return d=e,!0;f=[];for(c in e)g=e[c],caro.isObj(d)&&caro.keysInObj(d,c)&&!a||f.push(b(d,c,g));return f}),d},c.cloneObj=function(a,b){var c;return null==b&&(b=!1),caro.isObjOrArr(a)?(c=caro.isArr(a)?[]:{},caro.extendObj(c,a),b&&caro.each(c,function(a,b){return c[a]=caro.cloneObj(b)}),c):a},c.replaceObjKey=function(a,b){var c;return c=a,caro.each(c,function(a,d){var e;e=caro.executeIfFn(b,a),e&&(c[e]=d,delete c[a])}),c},c.replaceObjVal=function(a,b,c){var d,e;return null==c&&(c=!1),e=a,d=function(a){caro.each(a,function(e,f){var g;return caro.isObj(f)&&c?void d(f):(g=caro.executeIfFn(b,f),void(void 0!==g&&(a[e]=g)))})},d(e),e},c.upperCaseByObjKey=function(b,c){return a(b,"upper",c)},c.lowerCaseByObjKey=function(b,c){return a(b,"lower",c)},c.upperFirstByObjKey=function(b,c){return a(b,"upperFirst",c)},c.trimByObjKey=function(b,c){return a(b,"trim",c)},c.keysInObj=function(a,b){var c;return caro.isObj(a)?(c=!0,b=caro.splitStr(b,","),caro.each(b,function(b,d){return a.hasOwnProperty(d)?void 0:(c=!1,!1)}),c):!1},c.getKeysInObj=function(a,b){var c,d,e;return e=[],caro.isObj(a)?(b=caro.coverToInt(b,!1)>-1?b:1,d=0,c=function(a){d++,caro.each(a,function(a,f){b>0&&d>b||(e.push(a),caro.isObj(f)&&c(f))}),d--},c(a),e):e},c.coverFnToStrInObj=function(a,b){var c;return null==b&&(b=!0),c=a,caro.each(c,function(a,d){var e;caro.isObjOrArr(d)?caro.coverFnToStrInObj(d):caro.isFn(d)&&(e=d.toString(),b?e=e.replace(/([\r]\s*|[\n]\s*)/g,""):(e=e.replace(/[\r]\s*/g,"\r "),e=e.replace(/[\n]\s*/g,"\n ")),c[a]=e)}),c},c.objToArr=function(a){var b;return b=[],caro.each(a,function(a,c){b.push(c)}),b}}(),function(){var a,b,c;caro.isNode&&(c=caro,b=require("path"),a="undefined"!=typeof __dirname?__dirname:"",c.setAbsolutePath=function(b){return caro.isStr(b)?a=caro.normalizePath(b):!1},c.getAbsolutePath=function(){return a},c.normalizePath=function(a){var c;return c=caro.objToArr(arguments),b.join.apply(b,c)},c.isFullPath=function(b){var c;return c=!0,caro.each(arguments,function(b,d){return d=caro.normalizePath(d),0!==d.indexOf(a)?(c=!1,!1):void 0}),c},c.getDirPath=function(a){return b.dirname(a)},c.getFileName=function(a,c){var d;return null==c&&(c=!0),c?b.basename(a):(d=caro.getExtendName(a),b.basename(a,d))},c.getExtendName=function(a,c){var d;return null==c&&(c=!0),d=b.extname(a),c||(d=d.replace(".","")),d},c.coverToFullPath=function(c){return c=caro.normalizePath.apply(this,arguments),caro.isFullPath(c)||(c=b.join(a,c)),c})}(),function(){var a,b;b=caro,a=function(a,b,c){var d,e,f,g,h;if(g=[],d=["toUpperCase","toLowerCase"],c=caro.coverToObj(c),h=caro.coverToInt(c.start),e=caro.coverToInt(c.end)>0?caro.coverToInt(c.end):null,f=c.force!==!1,!caro.isStr(a)){if(!f)return a;a=""}return b=d.indexOf(b)>-1?b:d[0],g.push(a.slice(0,h)),e?(g.push(a.slice(h,e)[b]()),g.push(a.slice(e))):g.push(a.slice(h)[b]()),g.join("")},b.isUpper=function(a){var b;return b=!0,caro.checkIfPassCb(arguments,function(a){var c;return c=a.toUpperCase(),c!==a?b=!1:void 0}),b},b.isLower=function(a){var b;return b=!0,caro.checkIfPassCb(arguments,function(a){var c;return c=a.toLowerCase(),c!==a?b=!1:void 0}),b},b.random=function(a,b){var c,d,e,f,g,h,i;for(h="",c=[],a=parseInt(a)?parseInt(a):1,b=caro.coverToObj(b),f=b.lower!==!1,i=b.upper!==!1,g=b.num!==!1,d=b.exclude||[],d=caro.splitStr(d,","),f&&c.push("abcdefghijklmnopqrstuvwxyz"),i&&c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),g&&c.push("0123456789"),c=c.join(""),caro.each(d,function(a,b){c=caro.replaceAll(c,b,"")}),e=0;a>e;)h+=c.charAt(Math.floor(Math.random()*c.length)),e++;return h},b.strToBool=function(a){return a=a.toLowerCase(),""!==a&&"false"!==a},b.hasHead=function(a,b){return caro.isStr(a,b)?0===a.indexOf(b):!1},b.addHead=function(a,b){return caro.isStr(a,b)?(caro.hasHead(a,b)||(a=b+a),a):a},b.hasTail=function(a,b){var c,d,e;return caro.isStr(a,b)?(c=a.lastIndexOf(b),d=a.length,e=b.length,d>e&&c===d-e):!1},b.addTail=function(a,b){return caro.isStr(a,b)?(caro.hasTail(a,b)||(a+=b),a):a},b.wrapToBr=function(a){return caro.isStr(a)?(a=a.replace(/\r\n/g,"<br />"),a=a.replace(/\n/g,"<br />"),a=a.replace(/\r/g,"<br />")):a},b.brToWrap=function(a){var b;return b=/<br\s*[\/]?>/gi,a.replace(b,"\n")},b.splitByWrap=function(a){var b;return caro.isStr(a)?(b=["\r\n","\r","\n"],caro.splitStr(a,b)):a},b.escapeRegExp=function(a){return caro.isStr(a)?a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"):a},b.replaceAll=function(a,b,c){var d,e;return d=caro.isRegExp(b),caro.isStr(a,b,c)||d?(e=b,d||(b=caro.escapeRegExp(b),e=new RegExp(b,"g")),a.replace(e,c)):a},b.insertBlankBefUpper=function(a){var b,c;return caro.isStr(a)?(c=[],b=a.split(""),caro.each(b,function(a,b){return a>0&&caro.isUpper(b)&&c.push(" "),c.push(b)}),c.join("")):a},b.upperStr=function(b,c){return a(b,"upperCase",c)},b.upperFirst=function(a,b){var c;return c={start:0,end:1,force:b!==!1},caro.upperStr(a,c)},b.lowerStr=function(b,c){return a(b,"toLowerCase",c)},b.trimStr=function(a,b,c){var d,e;return b=caro.isStr(b)?b:" ",b=caro.escapeRegExp(b),(c===!0||c!==!1)&&(d=new RegExp("^"+b+"+"),a=a.replace(d,"")),(c===!1||c!==!0)&&(e=new RegExp(b+"+$"),a=a.replace(e,"")),a},b.splitStr=function(a,b){var c;return caro.isArr(a)?a:b?(b=caro.coverToArr(b),c=b[0],c.length>1&&caro.each(b,function(a,b){caro.isStr(b)&&(2>c||c.length>=b.length&&(c=b))}),caro.isStr(c)?(caro.each(b,function(b,d){caro.isStr(d)&&(a=caro.replaceAll(a,d,c))}),a.split(c)):a):[]},b.serializeUrl=function(a,b,c){var d,e;return null==c&&(c=!1),e=0,d=["?"],caro.each(b,function(a,b){if(caro.isEmptyVal(b)){if(!c)return;b=""}e>0&&d.push("&"),d.push(a),d.push("="),d.push(b),e++}),a+=d.join("")}}(),function(){var a,b;b=caro,a=function(a,b){var c;return c=!0,caro.each(a,function(a,d){typeof d!==b&&(c=!1)}),c},b.isBool=function(b){return a(arguments,"boolean")},b.isStr=function(b){return a(arguments,"string")},b.isFn=function(b){return a(arguments,"function")},b.isUndef=function(b){return a(arguments,"undefined")},b.isNum=function(b){return a(arguments,"number")},b.isInt=function(a){return caro.checkIfPassCb(arguments,function(a){var b;return b=parseInt(a),b===a})},b.isArr=function(a){return caro.checkIfPassCb(arguments,function(a){return Array.isArray(a)})},b.isNull=function(a){return caro.checkIfPassCb(arguments,function(a){return null===a})},b.isJson=function(a){var b;return b=!0,caro.each(arguments,function(a,c){var d;try{JSON.parse(c)}catch(e){return d=e,b=!1,!1}}),b},b.isObjJson=function(a){return caro.checkIfPassCb(arguments,function(a){var b,c;try{return c=JSON.parse(a),caro.isObj(c)}catch(d){return b=d,!1}})},b.isObj=function(b){return a(arguments,"object")?caro.checkIfPassCb(arguments,function(a){return!caro.isNull(a)&&!caro.isArr(a)}):!1},b.isObjOrArr=function(b){return a(arguments,"object")?caro.checkIfPassCb(arguments,function(a){return!caro.isNull(a)}):!1},b.isRegExp=function(a){return caro.checkIfPassCb(arguments,function(a){return a instanceof RegExp})},caro.isNode&&(b.isBuf=function(a){return caro.checkIfPassCb(arguments,function(a){var b;try{return Buffer.isBuffer(a)}catch(c){return b=c,!1}})})}();